"use strict";!function(t){t(document).on("woof_ajax_done",woof_ajax_done_handler),t(document).ready(function(){change_view_btn_event(),t.ajax({url:kivicare_loadmore_params.ajaxurl,data:{action:"load_skeleton"},type:"GET",success:function(e){localStorage.setItem("product_grid_skeleton",e.data["skeleton-grid"]),localStorage.setItem("product_list_skeleton",e.data["skeleton-list"])}}),t(document.body).on("woosq_loaded",function(e){t(".thumbnails").addClass("iq-rtl-direction")}),a=t.fn.css;var o=new t.Event("stylechanged"),a=t.fn.css;t.fn.css=function(){var e=a.apply(this,arguments);return t(this).trigger(o),e},setTimeout(function(){t(".woof_info_popup").on("stylechanged",function(){t(this).append('<div class="kivicare-show-loader-overlay"></div>')})},500)})}(jQuery);var can_loaded_product_view=!0;function getCookie(e){e="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===e.length)return e.pop().split(";").shift()}function setCookie(e,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,t=new Date;t.setTime(t.getTime()+24*a*60*60*1e3);a="expires="+t.toUTCString(),isSubdomain(),t="."+window.location.hostname;document.cookie=e+"="+o+"; "+a+"; Path=/;"+t}function ajax_product(i,r){jQuery.ajax({url:window.location.href,data:{loaded_paged:kivicare_loadmore_params.current_page},type:"POST",beforeSend:function(e){if("product_grid_skeleton"==r)for(var o=getCookie("product_view[col_no]"),a=jQuery(localStorage.getItem(r)).siblings(".column-"+o),t=0;t<o;t++)i.append(a.clone());else i.append(jQuery(localStorage.getItem(r)));can_loaded_product_view=!1,jQuery(".woocommerce-pagination").addClass("hide"),jQuery(".woocommerce-pagination").removeClass("show")},success:function(e){e&&(e=jQuery(e),jQuery(".products").replaceWith(e.find(".products")),i.find(".skeleton-main").remove(),loadmore_product(),can_loaded_product_view=!0,jQuery(".woocommerce-pagination").removeClass("hide"),jQuery(".woocommerce-pagination").addClass("show"))}})}var isSubdomain=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.hostname,o=new RegExp(/^([a-z]+\:\/{2})?([\w-]+\.[\w-]+\.\w+)$/);return!!e.match(o)};function change_view_btn_event(){jQuery(".kivicare-view-grid,.kivicare-listing").on("click",function(){var e=jQuery(this),o=e.parents(".sorting-wrapper").next(".products");e.hasClass("active")||jQuery("#woof_html_buffer").is(":visible")||!can_loaded_product_view||(setCookie("product_view[col_no]",e.hasClass("kivicare-view-grid")?e.data("grid"):"1"),setCookie("product_view[is_grid]",e.hasClass("kivicare-view-grid")?"2":"1"),jQuery(".kivicare-product-view-buttons .btn").removeClass("active"),e.addClass("active"),e.hasClass("kivicare-listing")?(o.find(".product").fadeOut(0,function(){jQuery(this).remove()}),e.parents(".product-grid-style").removeClass("product-grid-style").addClass("product-list-style"),ajax_product(o,"product_list_skeleton")):1!=e.parents(".product-grid-style").length&&(o.find(".product").fadeOut(0,function(){jQuery(this).remove()}),e.parents(".product-list-style").removeClass("product-list-style").addClass("product-grid-style"),ajax_product(o,"product_grid_skeleton")),setTimeout(function(){void 0!==e.data("grid")?o.removeClass("columns-2 columns-3 columns-4").addClass("columns-"+e.data("grid")):o.removeClass(" columns-2 columns-3 columns-4"),o.addClass("animated-product")},100),o.removeClass("animated-product"))})}function woo_ordering(){0<jQuery("select").length&&(jQuery("select").each(function(){jQuery(this).select2({width:"100%"})}),jQuery(".select2-container").addClass("wide"))}function woof_ajax_done_handler(e){change_view_btn_event(),loadmore_product(jQuery(".kivicare-product-main-list").data("options")),kivicare_loadmore_params.current_page=1,jQuery.ajax({url:kivicare_loadmore_params.ajaxurl,data:{action:"fetch_woof_filter_ajax_query"},type:"POST",success:function(e){(e=JSON.parse(e))&&(kivicare_loadmore_params.posts=e.query,kivicare_loadmore_params.max_page=e.max_page)}}),woo_ordering()}